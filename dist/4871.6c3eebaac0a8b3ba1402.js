"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[4871],{92108:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(84051),r=n(87357);const a=(0,i.ph)((({data:e,style:t,className:n,valueClassName:a,keyClassName:o})=>i.Ay.createElement("div",{className:(0,r.A)("cKr8J5k_",n),style:t},e.map((([e,t])=>i.Ay.createElement(i.Ay.Fragment,null,i.Ay.createElement("div",{className:(0,r.A)("c9RLLvfs",o)},e),i.Ay.createElement("div",{className:(0,r.A)("QEuGpzIc",a)},t)))))))},25404:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(84051),r=n(13439),a=n(31481),o=n(85982),s=n(39351),c=n(17712),l=n(24433);const d=(0,i.ph)((({peerId:e,canManage:t,gift:n,currentUserEmojiStatus:d,collectibleEmojiStatuses:m})=>{const{showNotification:u,openChatWithDraft:A,openGiftTransferModal:g,openGiftStatusInfoModal:f,setEmojiStatus:h,toggleSavedGiftPinned:y,changeGiftVisibility:p}=(0,r.ko)(),v=(0,s.A)(),E=n&&"gift"in n,C=E?n:void 0,I=E?n.gift:n,b="starGiftUnique"===I?.type?I.slug:void 0,N=(0,i.Kr)((()=>{if(b)return`${a.jsp}nft/${b}`}),[b]),k=(0,i.Kr)((()=>{if(b)return m?.find((e=>"collectible"===e.type&&e.slug===b))}),[b,m]),P="collectible"===d?.type?d.slug:void 0,S=I&&"starGiftUnique"===I.type,F=S&&P===I.slug,x=k&&!F,w=t&&C&&!C.isUnsaved&&S,T=(0,c.A)((()=>{const{inputGift:e,isUnsaved:t}=C;p({gift:e,shouldUnsave:!t})})),G=(0,c.A)((()=>{N&&((0,o.eM)(N),u({message:v("LinkCopied")}))})),U=(0,c.A)((()=>{N&&A({text:{text:N}})})),B=(0,c.A)((()=>{"starGiftUnique"===C?.gift.type&&g({gift:C})})),M=(0,c.A)((()=>{"starGiftUnique"===I?.type&&k&&f({emojiStatus:k})})),R=(0,c.A)((()=>{F&&h({emojiStatus:{type:"regular",documentId:a.zNY}})})),V=(0,c.A)((()=>{y({peerId:e,gift:C})}));return i.Ay.createElement(i.Ay.Fragment,null,w&&i.Ay.createElement(l.A,{icon:C.isPinned?"unpin":"pin",onClick:V},v(C.isPinned?"ChatListUnpinFromTop":"ChatListPinToTop")),i.Ay.createElement(l.A,{icon:"link-badge",onClick:G},v("CopyLink")),i.Ay.createElement(l.A,{icon:"forward",onClick:U},v("Share")),t&&S&&i.Ay.createElement(l.A,{icon:"diamond",onClick:B},v("GiftInfoTransfer")),t&&C&&i.Ay.createElement(l.A,{icon:C.isUnsaved?"eye-outline":"eye-crossed-outline",onClick:T},v(C.isUnsaved?"GiftActionShow":"GiftActionHide")),x&&i.Ay.createElement(l.A,{icon:"crown-wear",onClick:M},v("GiftInfoWear")),F&&i.Ay.createElement(l.A,{icon:"crown-take-off",onClick:R},v("GiftInfoTakeOff")))}))},87049:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(84051),r=n(13439),a=n(29807),o=n(87357),s=n(14745);const c={root:"AmQSvxpZ",text:"pQW7dcwr"},l={red:[["#FF5B54","#ED1C26"],["#653633","#532224"]],blue:[["#6ED2FF","#34A4FC"],["#344F5A","#152E42"]],purple:[["#E367D7","#757BF6"],["#E367D7","#757BF6"]]},d=new Set(Object.keys(l)),m=(0,i.ph)((0,r.EK)((e=>({theme:(0,a.SJA)(e)})))((({text:e,color:t,className:n,theme:r})=>{const a=`svg-${(0,s.A)()}`,m=d.has(t)?t:void 0,u=m?l[m]["dark"===r?1:0]:void 0,A=u?u[0]:t,g=u?u[1]:t;return i.Ay.createElement("div",{className:(0,o.A)(c.root,n)},i.Ay.createElement("svg",{className:c.ribbon,width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},i.Ay.createElement("path",{d:"M52.4851 26.4853L29.5145 3.51472C27.2641 1.26428 24.2119 0 21.0293 0H2.82824C1.04643 0 0.154103 2.15429 1.41403 3.41422L52.5856 54.5858C53.8455 55.8457 55.9998 54.9534 55.9998 53.1716V34.9706C55.9998 31.788 54.7355 28.7357 52.4851 26.4853Z",fill:`url(#${a})`}),i.Ay.createElement("defs",null,i.Ay.createElement("linearGradient",{id:a,x1:"27.9998",y1:"1",x2:"27.9998",y2:"55",gradientUnits:"userSpaceOnUse"},i.Ay.createElement("stop",{"stop-color":A}),i.Ay.createElement("stop",{offset:"1","stop-color":g})))),i.Ay.createElement("div",{className:c.text},e))})))},4523:(e,t,n)=>{n.d(t,{A:()=>Ne});var i=n(84051),r=n(13439),a=n(23174),o=n(89925),s=n(31481),c=n(90709),l=n(26129),d=n(29807),m=n(96454),u=n(87357),A=n(60343),g=n(41512),f=n(54464),h=n(43874),y=n(10722),p=n(49746),v=n(37661),E=n(5912),C=n(17712),I=n(14622),b=n(21511),N=n(48196),k=n(79519),P=n(96773),S=n(76023),F=n(21849),x=n(50805);const w=15*S.$,T=(0,i.ph)((({action:e,onClick:t,observeIntersection:n})=>i.Ay.createElement(F.A,{className:x.A.channelPhoto,photo:e.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:n,onClick:t,size:w})));var G=n(18501),U=n(39351),B=n(85118),M=n(82855);const R=(0,i.ph)((0,r.EK)(((e,{action:t})=>({sticker:"giftPremium"===t.type?(0,d.t0O)(e,t.months):(0,d.WLj)(e,t.stars),canPlayAnimatedEmojis:(0,d.BWX)(e)})))((({action:e,sticker:t,canPlayAnimatedEmojis:n,onClick:r,observeIntersectionForLoading:a,observeIntersectionForPlaying:o})=>{const s=(0,i.li)(null),c=(0,U.A)(),l="giftPremium"===e.type?e.message:void 0;return i.Ay.createElement("div",{className:x.A.contentBox,tabIndex:0,role:"button",onClick:r},i.Ay.createElement("div",{ref:s,className:x.A.stickerWrapper,style:"width: 150px; height: 150px"},t&&i.Ay.createElement(M.A,{containerRef:s,sticker:t,size:150,observeIntersectionForLoading:a,observeIntersectionForPlaying:o,noLoad:!n})),i.Ay.createElement("div",{className:x.A.info},i.Ay.createElement("h3",{className:x.A.title},"giftPremium"===e.type?c("ActionGiftPremiumTitle",{months:e.months},{pluralValue:e.months}):c("ActionGiftStarsTitle",{amount:e.stars},{pluralValue:e.stars})),i.Ay.createElement("div",null,l&&(0,G.fd)(l),!l&&c("giftPremium"===e.type?"ActionGiftPremiumText":"ActionGiftStarsText"))),i.Ay.createElement("div",{className:x.A.actionButton},i.Ay.createElement(B.A,{preset:"button"}),c("ActionViewButton")))})));var V=n(70636),L=n(4262);const J=(0,i.ph)((0,r.EK)(((e,{action:t})=>({sticker:"giftCode"===t.type?(0,d.t0O)(e,t.months):(0,d.WLj)(e,t.stars),canPlayAnimatedEmojis:(0,d.BWX)(e),channel:(0,d.hds)(e,t.boostPeerId)})))((({action:e,sticker:t,canPlayAnimatedEmojis:n,channel:r,onClick:a,observeIntersectionForLoading:o,observeIntersectionForPlaying:s})=>{const c=(0,i.li)(null),l=(0,U.A)(),d=(0,i.Kr)((()=>{const e=r&&(0,V.F9)(l,r),t=l("ActionFallbackChannel");return(0,L.Nm)(r?.id,e||t)}),[r,l]);return i.Ay.createElement("div",{className:x.A.contentBox,tabIndex:0,role:"button",onClick:a},i.Ay.createElement("div",{ref:c,className:x.A.stickerWrapper,style:"width: 150px; height: 150px"},t&&i.Ay.createElement(M.A,{containerRef:c,sticker:t,size:150,observeIntersectionForLoading:o,observeIntersectionForPlaying:s,noLoad:!n})),i.Ay.createElement("div",null,i.Ay.createElement("h3",{className:x.A.title},l("ActionGiveawayResultTitle")),i.Ay.createElement("div",null,"giftCode"===e.type&&l(e.isViaGiveaway?"ActionGiveawayResultPremiumText":"ActionGiftCodePremiumText",{months:e.months,channel:d},{withNodes:!0,withMarkdown:!0,pluralValue:e.months,renderTextFilters:["br"]}),"prizeStars"===e.type&&l("ActionGiveawayResultStarsText",{amount:e.stars,channel:d},{withNodes:!0,withMarkdown:!0,pluralValue:e.stars,renderTextFilters:["br"]}))),i.Ay.createElement("div",{className:x.A.actionButton},i.Ay.createElement(B.A,{preset:"button"}),l("giftCode"===e.type?"ActionOpenGiftButton":"ActionViewButton")))})));var j=n(48775),z=n(80140),O=n(14242),K=n(66833),q=n(87094),W=n(87049);const D=(0,i.ph)((0,r.EK)(((e,{message:t,action:n})=>{const i=(0,d.mBe)(e,e.currentUserId),r=(0,d.BWX)(e),a=(0,d.Y7C)(e,t),o=n.fromId?(0,d.PVB)(e,n.fromId):void 0,s=t.isOutgoing?(0,d.PVB)(e,t.chatId):i;return{canPlayAnimatedEmojis:r,sender:o||a,recipient:(n.peerId?(0,d.PVB)(e,n.peerId):void 0)||s,starGiftMaxConvertPeriod:e.appConfig?.starGiftMaxConvertPeriod}}))((({action:e,message:t,canPlayAnimatedEmojis:n,sender:r,recipient:a,starGiftMaxConvertPeriod:o,onClick:s,observeIntersectionForLoading:l,observeIntersectionForPlaying:d})=>{const m=(0,i.li)(null),A=(0,i.li)(null),g=(0,U.A)(),{isOutgoing:f}=t,h=(0,K.yQ)(e.gift),y=f?a:r,p=y&&(0,V.vj)(y)&&(0,c.WX)(y),v=(0,q.A)(m,"background-color",!e.gift.availabilityTotal),E=g("ActionFallbackSomeone"),C=y&&(0,V.F9)(g,y),I=r?.id===a?.id,b=(0,i.Kr)((()=>{const n=(0,L.Nm)(y?.id,C||E),i=void 0!==e.starsToConvert?(0,j.K)(g,e.starsToConvert):void 0;return e.isUpgraded?g("ActionStarGiftUpgraded"):e.alreadyPaidUpgradeStars?(0,L.AD)(g,"ActionStarGiftUpgradeText",!f||I,{peer:n}):e.isConverted?(0,L.AD)(g,"ActionStarGiftConvertedText",!f||I,{peer:n,amount:i}):o&&(0,z.Fm)()<t.date+o?(0,L.AD)(g,"ActionStarGiftConvertText",!f||I,{peer:n,amount:i}):p?g("ActionStarGiftChannelText",{amount:i},{withNodes:!0}):(0,L.AD)(g,"ActionStarGiftNoConvertText",!f||I,{peer:n})}),[e,E,p,f,g,t.date,y?.id,C,o,I]);return i.Ay.createElement("div",{ref:m,className:(0,u.A)(x.A.contentBox,x.A.starGift),tabIndex:0,role:"button",onClick:s},i.Ay.createElement("div",{ref:A,className:x.A.stickerWrapper,style:"width: 120px; height: 120px"},h&&i.Ay.createElement(M.A,{containerRef:A,sticker:h,size:120,observeIntersectionForLoading:l,observeIntersectionForPlaying:d,noLoad:!n})),e.gift.availabilityTotal&&i.Ay.createElement(W.A,{color:v||"blue",text:g("ActionStarGiftLimitedRibbon",{total:(0,O.Vw)(g,e.gift.availabilityTotal)})}),i.Ay.createElement("div",{className:x.A.info},i.Ay.createElement("h3",{className:x.A.title},I?g("ActionStarGiftSelf"):g(f?"ActionStarGiftTo":"ActionStarGiftFrom",{peer:(0,L.Nm)(y?.id,C||E)},{withNodes:!0})),i.Ay.createElement("div",{className:x.A.subtitle},e.message&&(0,G.fd)(e.message),!e.message&&b)),i.Ay.createElement("div",{className:x.A.actionButton},i.Ay.createElement(B.A,{preset:"button"}),!e.alreadyPaidUpgradeStars||e.isUpgraded||f?g("ActionViewButton"):g("ActionStarGiftUnpack")))})));var H=n(95807),$=n(92108),Q=n(40558);const X=(0,i.ph)((0,r.EK)(((e,{message:t,action:n})=>{const i=(0,d.mBe)(e,e.currentUserId),r=(0,d.BWX)(e),a=(0,d.Y7C)(e,t),o=n.fromId?(0,d.PVB)(e,n.fromId):void 0,s=t.isOutgoing?(0,d.PVB)(e,t.chatId):i;return{canPlayAnimatedEmojis:r,sender:o||a,recipient:(n.peerId?(0,d.PVB)(e,n.peerId):void 0)||s}}))((({action:e,message:t,canPlayAnimatedEmojis:n,sender:r,recipient:a,onClick:o,observeIntersectionForLoading:s,observeIntersectionForPlaying:c})=>{const l=(0,i.li)(null),d=(0,U.A)(),{isOutgoing:m}=t,A=(0,K.yQ)(e.gift),g=(0,K.uc)(e.gift),f=g.model,h=g.pattern,y=g.backdrop,p=[y.centerColor,y.edgeColor],v=`${y.patternColor.slice(0,7)}55`,E=(0,i.Kr)((()=>[[d("ActionStarGiftUniqueModel"),f.name],[d("ActionStarGiftUniqueBackdrop"),y.name],[d("ActionStarGiftUniqueSymbol"),h.name]]),[d,f,h,y]),C=!m||e.isUpgrade,I=C&&!e.isUpgrade?r:a,b=d("ActionFallbackSomeone"),N=I&&(0,V.F9)(d,I),k=r?.id===a?.id;return i.Ay.createElement("div",{className:(0,u.A)(x.A.contentBox,x.A.starGift,x.A.uniqueGift),tabIndex:0,role:"button",onClick:o},i.Ay.createElement("div",{className:x.A.uniqueBackgroundWrapper},i.Ay.createElement(Q.A,{className:x.A.uniqueBackground,backgroundColors:p,patternColor:y.patternColor,patternIcon:h.sticker,clearBottomSector:!0})),i.Ay.createElement("div",{ref:l,className:x.A.stickerWrapper,style:"width: 120px; height: 120px"},A&&i.Ay.createElement(M.A,{containerRef:l,sticker:A,size:120,observeIntersectionForLoading:s,observeIntersectionForPlaying:c,noLoad:!n})),i.Ay.createElement(W.A,{color:v,text:d("ActionStarGiftUniqueRibbon")}),i.Ay.createElement("div",{className:x.A.info},i.Ay.createElement("h3",{className:x.A.title},k?d("ActionStarGiftSelf"):d(C?"ActionStarGiftFrom":"ActionStarGiftTo",{peer:(0,L.Nm)(I?.id,N||b)},{withNodes:!0})),i.Ay.createElement("div",{className:x.A.subtitle,style:`color: ${y.textColor}`},d("GiftUnique",{title:e.gift.title,number:e.gift.number})),i.Ay.createElement($.A,{data:E,style:`color: ${y.textColor}`,valueClassName:x.A.uniqueValue})),i.Ay.createElement("div",{className:x.A.actionButton,style:(0,H.A)(v&&`background-color: ${v}`)},i.Ay.createElement(B.A,{preset:"button"}),d("ActionViewButton")))})));var Z=n(87679),Y=n(62587),_=n(94189),ee=n(68584);const te=(0,i.ph)((0,r.EK)(((e,{message:t})=>({peer:(0,d.PVB)(e,t.chatId)})))((({message:e,action:t,peer:n,observeIntersection:s})=>{const{openMediaViewer:l,uploadProfilePhoto:d,showNotification:m}=(0,r.ko)(),{isOutgoing:u}=e,A=t.photo,g=(0,U.A)(),[f,h]=(0,i.J0)(),[y,p,E]=(0,v.A)(!1),I=(0,Y.A)((0,c.rI)(A,"full")),b=(0,Y.A)((0,c.Pg)(A)),N=A.isVideo,k=(0,i.Kr)((()=>{const e=n&&(0,V.F9)(g,n)||g("ActionFallbackUser"),t=(0,L.Nm)(n?.id,e);return g(u?"ActionSuggestedPhotoYou":"ActionSuggestedPhoto",{user:t},{withNodes:!0})}),[g,u,n]),P=(0,C.A)((()=>{m({title:g("ActionSuggestedPhotoUpdatedTitle"),message:g("ActionSuggestedPhotoUpdatedDescription"),action:{action:"requestNextSettingsScreen",payload:{screen:o.VS.Main}},actionText:g("Open")})})),S=(0,C.A)((e=>{h(void 0),d({file:e}),P()})),w=(0,C.A)((()=>{h(void 0)})),T=(0,C.A)((async()=>{if(!b)return;E(),P();const e=await(0,Z.sZ)(b);d({file:new File([e],"avatar.mp4"),isVideo:!0,videoTs:A.videoSizes?.find((e=>void 0!==e.videoStartTs))?.videoStartTs})}));return i.Ay.createElement("div",{className:x.A.contentBox,tabIndex:0,role:"button",onClick:async()=>{!u&&I?N?p():h(await(0,Z.sZ)(I)):l({chatId:e.chatId,messageId:e.id,threadId:a.l3,origin:o.TQ.SuggestedAvatar})}},i.Ay.createElement(F.A,{className:x.A.suggestedAvatar,photo:t.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:s,size:"jumbo"}),i.Ay.createElement("div",{className:x.A.suggestedText},k),i.Ay.createElement("div",{className:x.A.actionButton},g("ActionSuggestedPhotoButton")),i.Ay.createElement(ee.A,{file:f,onClose:w,onChange:S}),i.Ay.createElement(_.A,{isOpen:y,title:g("ActionSuggestedVideoTitle"),confirmHandler:T,onClose:E,text:g("ActionSuggestedVideoText")}))})));var ne=n(99515),ie=n(43581),re=n(14737),ae=n(48894);var oe=n(36838),se=n(59030),ce=n(18276),le=n(64493),de=n(55158);const me="d8axZxyN",ue="glDpC2av",Ae="gqCs9fSo",ge="gnYhwnvf",fe="HWgwnKui",he="BTNQ4KBH",ye="Xl9MVMTn",pe="Qizai7yv";function ve({channel:e}){const{openChat:t}=(0,r.ko)(),n=function(e,t="#00000000"){const[n,r]=(0,i.J0)(t),o=(0,Y.A)((0,c.cP)(e),!1,a.qZ.BlobUrl);return(0,i.vJ)((()=>{(async()=>{if(!o)return;const e=await(0,ae.rX)(o);r(`#${(0,ae.v2)(e)}`)})()}),[o]),n}(e,"#3C3C4399"),o=(0,U.A)();return i.Ay.createElement("div",{className:ue,onClick:()=>t({id:e.id})},i.Ay.createElement(F.A,{className:Ae,key:e.id,size:"large",peer:e}),i.Ay.createElement("div",{style:`background: ${n}`,className:ge},i.Ay.createElement(ce.A,{name:"user-filled",className:me}),i.Ay.createElement("span",{className:fe},(0,O.Vw)(o,e?.membersCount||0))),i.Ay.createElement("span",{className:he},e.title))}function Ee({channel:e,chatId:t,channelsCount:n,isCurrentUserPremium:a}){const{openPremiumModal:o,openChatWithInfo:s}=(0,r.ko)(),c=(0,se.A)();return i.Ay.createElement("div",{className:(0,u.A)(ue,"MBChXyXk"),onClick:()=>{a?s({id:t,shouldReplaceHistory:!0,profileTab:"similarChannels",forceScrollProfileTab:!0}):o()}},i.Ay.createElement(F.A,{className:Ae,key:e.id,size:"large",peer:e}),i.Ay.createElement("div",{className:ye},i.Ay.createElement("div",{className:pe})),i.Ay.createElement("div",{className:(0,u.A)(ye,"JxSmtOFi")},i.Ay.createElement("div",{className:pe})),i.Ay.createElement("div",{className:ge},i.Ay.createElement("span",{className:fe},`+${n}`),!a&&i.Ay.createElement(ce.A,{name:"lock-badge",className:me})),i.Ay.createElement("span",{className:he},c("MoreSimilar")))}const Ce=(0,i.ph)((0,r.EK)(((e,{chatId:t})=>{const{similarChannelIds:n,isExpanded:i,count:r}=(0,d.dg4)(e,t)||{},a=(0,d.g29)(e),o=(0,d.AWZ)(e,t);return{similarChannelIds:n,isExpanded:i,count:r,isCurrentUserPremium:a,channelJoinInfo:o?.joinInfo}}))((({chatId:e,similarChannelIds:t,isExpanded:n,count:a,isCurrentUserPremium:o,channelJoinInfo:s})=>{const{toggleChannelRecommendations:c,loadChannelRecommendations:l}=(0,r.ko)(),m=(0,se.A)(),[A,g,f]=(0,v.A)(!1),[h,y,p]=(0,v.A)(!1),E=(0,i.li)(null),I=(0,i.li)(!1),b=(0,i.Kr)((()=>{if(!t)return;const e=(0,r.mS)();return t.map((t=>(0,d.hds)(e,t))).filter(Boolean)}),[t]),[N,k]=(0,i.J0)(!1),P=(0,i.Kr)((()=>b?.slice(0,10)),[b]),S=Boolean(P?.length),F=Boolean(!N&&(n||h||A)&&S);(0,oe.A)(E,!F,!0),(0,i.vJ)((()=>{t||l({chatId:e})}),[e,t]),(0,re.A)((()=>k(!1)),2e3),(0,i.vJ)((()=>{if(N&&b&&n){const e=setTimeout((()=>{k(!1)}),300);return()=>clearTimeout(e)}}),[b,n,N]),(0,i.vJ)((()=>{n?(g(),p(),k(!t),I.current||setTimeout((()=>{E.current?.scrollIntoView({behavior:"smooth"})}),150)):(f(),y())}),[n,t]);const x=(0,C.A)((()=>{c({chatId:e})}));if((0,i.vJ)((()=>{s?.joinedDate&&!n&&(0,z.Fm)()-s.joinedDate<=10&&(x(),I.current=!0)}),[s,n]),F||N)return i.Ay.createElement("div",{className:(0,u.A)("V3RHiOJR")},N&&i.Ay.createElement(de.A,{className:"xKVZv7KE"}),F&&i.Ay.createElement("div",{className:(0,u.A)(A&&"eb8rX09E",h&&"XR6_qLCc")},i.Ay.createElement("div",{className:"tfG_BSDt"},i.Ay.createElement("svg",{width:"19",height:"7",viewBox:"0 0 19 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.Ay.createElement("path",{className:"HVbeGv4t","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 7C16.8992 7 13.59 3.88897 11.5003 1.67424C10.7648 0.894688 10.397 0.50491 10.0434 0.385149C9.70568 0.270811 9.4225 0.270474 9.08456 0.38401C8.73059 0.50293 8.36133 0.892443 7.62279 1.67147C5.52303 3.88637 2.18302 7 0 7L19 7Z",fill:"white"}))),i.Ay.createElement("div",{className:"njAC8dR9"},i.Ay.createElement("div",{className:"s7QOi22Q"},i.Ay.createElement("span",{className:"JstcOhAN"},m("SimilarChannels")),i.Ay.createElement(le.A,{className:"meewH7t_",color:"translucent",onClick:x},i.Ay.createElement(ce.A,{name:"close"}))),i.Ay.createElement("div",{ref:E,className:(0,u.A)("h4gWlNen","no-scrollbar")},P?.map(((t,n)=>9===n?i.Ay.createElement(Ee,{channel:t,chatId:e,channelsCount:a-10+1,isCurrentUserPremium:o}):i.Ay.createElement(ve,{channel:t})))))))}))),Ie=new Set(["pinMessage","chatEditPhoto","chatDeletePhoto","unsupported"]),be=new Set(["giftCode","prizeStars","suggestProfilePhoto"]),Ne=(0,i.ph)((0,r.EK)(((e,{message:t,threadId:n})=>{const i=(0,d.nTw)(e),{themes:r}=e.settings,o=(0,d.hds)(e,t.chatId),s=(0,d.Y7C)(e,t),c=o?.isForum&&n!==a.l3,{replyToMsgId:m,replyToPeerId:u}=(0,l.Q)(t)||{},A=m?(0,d.O5q)(e,u||t.chatId,m):void 0,g=!!n&&(0,d.nJv)(e,t,n),{direction:f,noHighlight:h,isResizingContainer:y,scrollTargetPosition:p}=g&&i.focusedMessage||{},v=(0,d.g29)(e),E=o?.unreadReactions?.includes(t.id),C=(0,d.trm)(e);return{sender:s,currentUserId:e.currentUserId,isCurrentUserPremium:v,isFocused:g,focusDirection:f,noFocusHighlight:h,isInsideTopic:c,replyMessage:A,isInSelectMode:(0,d.rTV)(e),patternColor:r[(0,d.SJA)(e)]?.patternColor,hasUnreadReaction:E,isResizingContainer:y,scrollTargetPosition:p,isAccountFrozen:C}}))((({message:e,threadId:t,sender:n,currentUserId:a,appearanceOrder:d,isJustAdded:S,isLastInList:F,memoFirstUnreadIdRef:w,getIsMessageListReady:G,isInsideTopic:U,isFocused:B,focusDirection:M,noFocusHighlight:V,replyMessage:L,patternColor:j,isCurrentUserPremium:z,isInSelectMode:O,hasUnreadReaction:K,isResizingContainer:q,scrollTargetPosition:W,onIntersectPinnedMessage:H,observeIntersectionForBottom:$,observeIntersectionForLoading:Q,observeIntersectionForPlaying:Z,isAccountFrozen:Y})=>{const{requestConfetti:_,openMediaViewer:ee,getReceipt:re,checkGiftCode:ae,openPrizeStarsTransactionFromGiveaway:oe,openPremiumModal:se,openStarsTransactionFromGift:ce,openGiftInfoModalFromMessage:le,toggleChannelRecommendations:de,animateUnreadReaction:me,markMentionsRead:ue}=(0,r.ko)(),Ae=(0,i.li)(null),{id:ge,chatId:fe}=e,he=e.content.action,ye=(0,A.iL)(ge),pe=be.has(he.type),ve=Ie.has(he.type),Ee=m.uH&&!ve,Ne=(0,l.Q)(e),{replyToMsgId:ke,replyToPeerId:Pe}=Ne||{},Se=Boolean(e.areReactionsPossible&&e?.reactions?.results?.length),Fe=U&&"topicCreate"===he.type,{isTouchScreen:xe}=(0,h.Ay)();(0,E.mv)(Ae,Fe?void 0:$),(0,I.A)(Ae,!Fe&&F&&"channelJoined"!==he.type),(0,p.A)(Pe||fe,ke,L,ge),(0,k.A)({elementRef:Ae,chatId:fe,isFocused:B,focusDirection:M,noFocusHighlight:V,isResizingContainer:q,isJustAdded:S,scrollTargetPosition:W}),(0,i._W)((()=>{e.isPinned&&H?.({viewportPinnedIdsToRemove:[e.id]})}));const{isContextMenuOpen:we,contextMenuAnchor:Te,handleBeforeContextMenu:Ge,handleContextMenu:Ue,handleContextMenuClose:Be,handleContextMenuHide:Me}=(0,y.A)(Ae,xe&&O||Y,!m.cp,m.Ni,G),Re=void 0!==Te,Ve=d<=0,[Le,Je]=(0,v.A)(Ve);(0,i.vJ)((()=>{Ve||setTimeout(Je,d*s.zq7)}),[d,Je,Ve]);const{ref:je}=(0,b.A)({isOpen:Le,noOpenTransition:Ve,noCloseTransition:!0,className:!1,ref:Ae});(0,i.vJ)((()=>{const t=Ae.current;t&&(0,g.Y)(t)&&(K&&me({messageIds:[ge]}),e.hasUnreadMention&&ue({chatId:fe,messageIds:[ge]}))}),[K,fe,ge,me,e.hasUnreadMention]),(0,i.vJ)((()=>{"giftPremium"===he.type&&(w?.current&&ge>=w.current||ye)&&_({})}),[he.type,ge,ye,w]);const ze=(0,N.A)(Ee?j:void 0),Oe=(0,C.A)((()=>{switch(he.type){case"paymentSent":case"paymentRefunded":re({chatId:e.chatId,messageId:e.id});break;case"chatEditPhoto":ee({chatId:e.chatId,messageId:e.id,threadId:t,origin:o.TQ.ChannelAvatar});break;case"giftCode":ae({slug:he.slug,message:{chatId:e.chatId,messageId:e.id}});break;case"prizeStars":oe({chatId:e.chatId,messageId:e.id});break;case"giftPremium":se({isGift:!0,fromUserId:n?.id,toUserId:n&&n.id===a?fe:a,monthsAmount:he.months});break;case"giftStars":ce({chatId:e.chatId,messageId:e.id});break;case"starGift":case"starGiftUnique":le({chatId:e.chatId,messageId:e.id});break;case"channelJoined":de({chatId:fe})}})),Ke=(0,i.Kr)((()=>{switch(he.type){case"chatEditPhoto":if(!he.photo)return;return i.Ay.createElement(T,{action:he,observeIntersection:Q,onClick:Oe});case"suggestProfilePhoto":return i.Ay.createElement(te,{message:e,action:he,observeIntersection:Q});case"prizeStars":case"giftCode":return i.Ay.createElement(J,{action:he,observeIntersectionForLoading:Q,observeIntersectionForPlaying:Z,onClick:Oe});case"giftPremium":case"giftStars":return i.Ay.createElement(R,{action:he,observeIntersectionForLoading:Q,observeIntersectionForPlaying:Z,onClick:Oe});case"starGift":return i.Ay.createElement(D,{action:he,message:e,observeIntersectionForLoading:Q,observeIntersectionForPlaying:Z,onClick:Oe});case"starGiftUnique":return i.Ay.createElement(X,{action:he,message:e,observeIntersectionForLoading:Q,observeIntersectionForPlaying:Z,onClick:Oe});case"channelJoined":return i.Ay.createElement(Ce,{chatId:e.chatId});default:return}}),[he,Q,e,Z]);if(!(U&&"topicCreate"===he.type||"phoneCall"===he.type))return i.Ay.createElement("div",{ref:je,id:(0,c.GZ)(ge),className:(0,u.A)("ActionMessage","message-list-item",x.A.root,ve&&x.A.singleLine,Ee&&x.A.fluidMultiline,Ke&&x.A.hasFullContent,B&&!V&&"focused",Re&&"has-menu-open",F&&"last-in-list"),"data-message-id":e.id,"data-is-pinned":e.isPinned||void 0,"data-has-unread-mention":e.hasUnreadMention||void 0,"data-has-unread-reaction":K||void 0,onMouseDown:e=>{(0,f.l)(e),Ge(e)},onContextMenu:Ue},!pe&&i.Ay.createElement(i.Ay.Fragment,null,Ee&&i.Ay.createElement("div",{className:x.A.inlineWrapper},i.Ay.createElement("span",{className:x.A.fluidBackground,style:ze},i.Ay.createElement(P.A,{message:e,isInsideTopic:U}))),i.Ay.createElement("div",{className:x.A.inlineWrapper},i.Ay.createElement("span",{className:x.A.textContent,onClick:Oe},i.Ay.createElement(P.A,{message:e,isInsideTopic:U})))),Ke,Te&&i.Ay.createElement(ne.A,{isOpen:we,anchor:Te,message:e,messageListType:"thread",className:x.A.contextContainer,onClose:Be,onCloseAnimationEnd:Me}),Se&&i.Ay.createElement(ie.A,{isOutside:!0,message:e,threadId:t,observeIntersection:Z,isCurrentUserPremium:z,isAccountFrozen:Y}))})))},48196:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(84051),r=n(31481),a=n(28470);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;class c{constructor(e){this.color=e,o(this,"filterId",void 0),o(this,"referenceCount",0),this.filterId=`fluid-background-filter-${e.slice(1)}`,(0,a.z)(i.Ay.createElement("filter",{"color-interpolation-filters":"sRGB",xmlns:r.jNX},i.Ay.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"4",result:"blur"}),i.Ay.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 30 -15",result:"goo"}),i.Ay.createElement("feComposite",{in:"SourceAlpha",in2:"goo",operator:"over",result:"outline"}),i.Ay.createElement("feFlood",{"flood-color":e,result:"color"}),i.Ay.createElement("feComposite",{in:"color",in2:"outline",operator:"in"})),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,a.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function l(e,t){if((0,i.vJ)((()=>{if(e)return()=>{const t=s.get(e);t&&(t.removeReference(),t.isUsed()||s.delete(t.color))}}),[e]),!e)return;if(s.has(e))return d(s.get(e).getFilterId(),t);const n=new c(e);return s.set(e,n),d(n.getFilterId(),t)}function d(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},71138:(e,t,n)=>{n.d(t,{N:()=>o});var i=n(84051),r=n(40107),a=n(28834);const o=e=>{const t=(0,i.li)(null),n=(0,i.li)(null),[o,s]=(0,i.J0)(null);return(0,i.vJ)((()=>{if(!t.current||!n.current)return()=>{};const i=new r.VP(t.current,n.current);return s(i),i.setColors((0,a.mh)({first:e?.settings.backgroundColor,second:e?.settings.secondBackgroundColor,third:e?.settings.thirdBackgroundColor,fourth:e?.settings.fourthBackgroundColor})),()=>i?.detach()}),[t,n,e]),{renderer:o,bgRef:t,animDivRef:n}}}}]);
//# sourceMappingURL=4871.6c3eebaac0a8b3ba1402.js.map